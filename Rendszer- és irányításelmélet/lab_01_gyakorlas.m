%%
% Legyen egy LTI rendszer √°llapotteres alakja az al√°bbi egyenletekkel le√≠rhat√≥:
% x1 = 2x1 + 5x2 + 2.3x3 + u
% x2 = x1 + 3x3 - u
% x3 = -4.1x2 + 5x3 -2u
% y = -x1 - 2x2 + 3x3

clear all
close all
clc

% x1= x1, x2, x3
A = [2, 5, 2.3;
    1, 0, 3;
    0, -4.1, 5]

%    u
B = [1;
    -1;
    -2]

% y= x1 x2 x3
C = [-1, -2, 3]

% y  u
D = [0]

% √°llapotv√°ltoz√≥k sz√°ma: 3 (x1, x2, x3)
% bemenetek sz√°ma: 1 (u)
% kimenetek sz√°ma: 1 (y)
% SISO rendszer (egy bemenet, egy kimenet)

% Adjuk meg a rendszert Matlabban! Sz√°m√≠tsuk ki az ùê¥ m√°trix
% saj√°t√©rt√©keit! D√∂nts√ºk el, hogy a rendszer stabil-e! Lehet-e a rendszer
% ugr√°s- √©s impulzusv√°lasz√°ban leng√©s? Rajzoltassuk ki a rendszer
% ugr√°sv√°lasz√°t √©s impulzusv√°lasz√°t!

% l√©trehozzuk a rendszert az ss f√ºggv√©nnyel (state-space, azaz √°llapott√©r)
rendszer = ss(A, B, C, D)

% egy m√°trix saj√°t√©rt√©keit az eig (eigenvalue) paranccsal sz√°m√≠ttathatjuk ki

sajatertek = eig(A)

% az ugr√°sv√°laszt a step f√ºggv√©nnyel rajzoltatjuk ki

figure()
step(rendszer)

% az impulzusv√°laszt a impulse f√ºggv√©nnyel rajzoltatjuk ki

figure()
impulse(rendszer)

%  az ugr√°sv√°lasz √©s az impulzusv√°lasz √∂sszehasonl√≠t√°sa a [0,1] intervallumban

t = 0:0.01:1;
figure()
step(rendszer, t)
hold on
figure()
impulse(rendszer, t)
hold off

